<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Classes ‚Äî Seedling</title>
    <style>
        :root {
            --bg-page: #FCFBF7;
            --bg-card: #F5F1E6;
            --border-card: #E6E1D1;
            --text-primary: #1A1A1A;
            --text-secondary: #5C5C5C;
            --text-tertiary: #888888;
            --color-tree: #4F6D46;
            --color-sapling: #7D8C55;
            --color-soil: #8B7355;
            --font-serif: 'Georgia', 'Times New Roman', serif;
            --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            --space-lg: 24px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

        html, body {
            height: 100%;
            background-color: #DDD9CF;
            display: flex; align-items: center; justify-content: center;
        }

        .screen {
            background-color: var(--bg-page);
            color: var(--text-primary);
            font-family: var(--font-sans);
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            width: 390px;
            height: 844px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
            border-radius: 40px;
            border: 1px solid #ccc;
            box-shadow: 0 28px 72px rgba(0,0,0,0.22), 0 4px 16px rgba(0,0,0,0.08);
            flex-shrink: 0;
        }

        /* ‚îÄ‚îÄ Status Bar ‚îÄ‚îÄ */
        .status-bar {
            height: 50px; padding: 14px var(--space-lg) 0;
            display: flex; align-items: center; justify-content: space-between;
            flex-shrink: 0;
        }
        .status-time { font-size: 15px; font-weight: 600; }
        .status-icons { display: flex; align-items: center; gap: 6px; }

        /* ‚îÄ‚îÄ Header ‚îÄ‚îÄ */
        .header {
            padding: 12px var(--space-lg) 16px;
            background-color: var(--bg-page);
            flex-shrink: 0;
        }
        .header-top {
            display: flex; align-items: center; justify-content: space-between;
        }
        .page-title { font-family: var(--font-serif); font-size: 28px; }
        .profile-btn {
            width: 38px; height: 38px; border-radius: 50%;
            background: linear-gradient(160deg, #E8F0E0 0%, #C8DDB8 100%);
            border: 1px solid var(--border-card);
            display: flex; align-items: center; justify-content: center;
            color: var(--color-tree); font-weight: 700; font-size: 13px;
            cursor: pointer; font-family: var(--font-serif);
        }

        /* ‚îÄ‚îÄ Scroll ‚îÄ‚îÄ */
        .scroll-content {
            flex: 1; overflow-y: auto;
            padding: 0 var(--space-lg) 100px;
        }
        .scroll-content::-webkit-scrollbar { display: none; }

        .section-label {
            font-size: 11px; font-weight: 700; text-transform: uppercase;
            letter-spacing: 0.1em; color: var(--text-tertiary);
            margin: 14px 0 14px;
        }

        /* ‚îÄ‚îÄ Class card ‚îÄ‚îÄ */
        .class-card {
            background: white; border-radius: 20px; padding: 20px var(--space-lg);
            margin-bottom: 14px; border: 1px solid var(--border-card);
            box-shadow: 0 2px 8px rgba(0,0,0,0.03);
            cursor: pointer; transition: opacity 0.15s;
        }
        .class-card:active { opacity: 0.72; }

        .card-top {
            display: flex; justify-content: space-between; align-items: flex-start;
            margin-bottom: 8px;
        }
        .class-name { font-family: var(--font-serif); font-size: 20px; }
        .grade-badge {
            font-size: 12px; background: var(--bg-card); color: var(--color-soil);
            padding: 3px 10px; border-radius: 12px; font-weight: 600;
            white-space: nowrap; flex-shrink: 0;
        }
        .student-count { font-size: 14px; color: var(--text-secondary); margin-bottom: 16px; }

        .stats-row {
            display: flex; gap: 20px; padding-top: 14px;
            border-top: 1px solid #F0F0F0;
        }
        .stat-item { display: flex; flex-direction: column; gap: 3px; }
        .stat-value { font-size: 17px; font-weight: 700; }
        .stat-lbl { font-size: 10px; text-transform: uppercase; letter-spacing: 0.03em; color: #888; font-weight: 600; }
        .col-thriving { color: #4F6D46; }
        .col-ontrack  { color: #7D8C55; }
        .col-help     { color: #D97706; }

        /* ‚îÄ‚îÄ Add class button ‚îÄ‚îÄ */
        .add-class-btn {
            width: 100%; background: white; border: 2px dashed var(--border-card);
            border-radius: 20px; padding: 24px;
            display: flex; flex-direction: column; align-items: center; gap: 8px;
            color: var(--text-secondary); font-weight: 600; font-size: 15px;
            cursor: pointer; font-family: var(--font-sans); transition: all 0.15s;
        }
        .add-class-btn:hover { border-color: var(--color-tree); color: var(--color-tree); }

        /* ‚îÄ‚îÄ Bottom Nav ‚îÄ‚îÄ */
        .bottom-nav {
            position: absolute; bottom: 0; left: 0; right: 0;
            height: 84px; background: white;
            border-top: 1px solid var(--border-card);
            display: flex; justify-content: space-around; align-items: center;
            padding-bottom: 20px; z-index: 30;
        }
        .nav-item {
            display: flex; flex-direction: column; align-items: center; gap: 4px;
            color: var(--text-tertiary); cursor: pointer; background: none; border: none;
            font-family: var(--font-sans); text-decoration: none;
        }
        .nav-item.active { color: var(--color-tree); }
        .nav-label { font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; }

        /* ‚îÄ‚îÄ Modals ‚îÄ‚îÄ */
        .modal-overlay {
            display: none; position: absolute; inset: 0;
            background: rgba(0,0,0,0.35); z-index: 100;
            border-radius: 40px; align-items: flex-end;
        }
        .modal-overlay.open { display: flex; }

        .modal-sheet {
            background: white; border-radius: 28px 28px 0 0;
            width: 100%; padding: 24px 24px 44px;
            animation: slideUp 0.25s ease; box-sizing: border-box;
            max-height: 85vh; overflow-y: auto;
        }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }

        .modal-handle { width: 40px; height: 4px; background: #E0E0E0; border-radius: 2px; margin: 0 auto 20px; }

        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .modal-title-txt { font-family: var(--font-serif); font-size: 22px; }
        .modal-close-x {
            background: var(--bg-card); border: none; border-radius: 50%;
            width: 32px; height: 32px; font-size: 18px; color: var(--text-secondary);
            cursor: pointer; display: flex; align-items: center; justify-content: center;
        }

        .inp-label { font-size: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-secondary); margin-bottom: 6px; display: block; }
        .inp-field {
            border: 1.5px solid var(--border-card); border-radius: 12px;
            padding: 12px 14px; font-size: 15px; font-family: var(--font-sans);
            background: var(--bg-page); outline: none; color: var(--text-primary); width: 100%;
            margin-bottom: 16px;
        }
        .inp-field:focus { border-color: var(--color-tree); }

        .btn-primary-full {
            background: var(--color-tree); color: white; border: none;
            border-radius: 14px; padding: 15px; font-size: 15px; font-weight: 600;
            cursor: pointer; width: 100%; font-family: var(--font-sans);
        }
        .btn-secondary-full {
            background: none; border: 1.5px solid var(--border-card);
            border-radius: 14px; padding: 15px; font-size: 15px; font-weight: 600;
            cursor: pointer; width: 100%; color: var(--text-secondary);
            font-family: var(--font-sans); margin-top: 10px;
        }

        .profile-row {
            display: flex; justify-content: space-between; align-items: center;
            padding: 14px 16px; background: white; border: 1px solid var(--border-card);
            border-radius: 12px; font-size: 15px; cursor: pointer; margin-bottom: 8px;
        }
        .profile-row.danger { color: #C0392B; }

        /* ‚îÄ‚îÄ Settings overlay ‚îÄ‚îÄ */
        .settings-modal-overlay {
            display: none; position: absolute; inset: 0;
            background: rgba(0,0,0,0.35); z-index: 200;
            border-radius: 40px; align-items: flex-end;
        }
        .settings-modal-overlay.open { display: flex; }
        .appearance-option {
            display: flex; align-items: center; gap: 12px; padding: 13px 14px;
            border-radius: 12px; border: 1.5px solid var(--border-card);
            margin-bottom: 10px; cursor: pointer; transition: all 0.15s;
        }
        .appearance-option.selected { border-color: var(--color-tree); background: #F0F5ED; }
        .lang-option {
            display: flex; align-items: center; gap: 12px; padding: 12px 14px;
            border-radius: 12px; border: 1.5px solid var(--border-card);
            margin-bottom: 8px; cursor: pointer; transition: all 0.15s;
        }
        .lang-option.selected { border-color: var(--color-tree); background: #F0F5ED; }
        .modal-title { font-family: var(--font-serif); font-size: 20px; margin-bottom: 6px; }
        .modal-subtitle { font-size: 13px; color: var(--text-tertiary); margin-bottom: 20px; }
        .input-label { font-size: 12px; font-weight: 700; color: var(--text-tertiary); text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 6px; display: block; }
        .input-field { width: 100%; padding: 12px 14px; border: 1.5px solid var(--border-card); border-radius: 12px; font-size: 15px; font-family: inherit; background: var(--bg-page); color: var(--text-primary); margin-bottom: 14px; outline: none; appearance: none; }
        .input-field:focus { border-color: var(--color-tree); }
        .modal-cta { width: 100%; padding: 14px; border: none; border-radius: 14px; background: var(--color-tree); font-size: 15px; font-weight: 600; color: white; cursor: pointer; font-family: inherit; }
        .modal-close-btn { margin-top: 10px; width: 100%; padding: 14px; border: 1.5px solid var(--border-card); border-radius: 14px; background: none; font-size: 15px; font-weight: 600; color: var(--text-secondary); cursor: pointer; font-family: inherit; }
        .modal-check { width: 24px; height: 24px; border-radius: 50%; background: var(--color-tree); color: white; font-size: 13px; font-weight: 700; display: flex; align-items: center; justify-content: center; }

        /* ‚îÄ‚îÄ Toast ‚îÄ‚îÄ */
        .toast {
            position: absolute; top: 64px; left: var(--space-lg); right: var(--space-lg);
            background: #1A1A1A; color: white; padding: 13px 16px; border-radius: 14px;
            font-size: 14px; font-weight: 500; z-index: 300; display: none;
            animation: toastIn 0.22s ease;
        }
        @keyframes toastIn { from { opacity: 0; transform: translateY(-6px); } to { opacity: 1; transform: translateY(0); } }
        @media (max-width: 430px) {
            html, body { display: block; width: 100%; height: 100dvh; background-color: var(--bg-page); margin: 0; padding: 0; }
            .screen { width: 100%; height: 100dvh; border-radius: 0; border: none; box-shadow: none; }
        }
    </style>
</head>
<body>
<div class="screen">

    <!-- Status Bar -->
    <div class="status-bar">
        <span class="status-time">9:41</span>
        <div class="status-icons">
            <svg width="17" height="12" viewBox="0 0 17 12" fill="var(--text-primary)"><rect x="0" y="7" width="3" height="5" rx="1"/><rect x="4.5" y="4.5" width="3" height="7.5" rx="1"/><rect x="9" y="2" width="3" height="10" rx="1"/><rect x="13.5" y="0" width="3" height="12" rx="1"/></svg>
            <svg width="16" height="12" viewBox="0 0 16 12" fill="none" stroke="var(--text-primary)" stroke-width="1.5"><path d="M1 4.5C3.8 1.7 8 1 8 1s4.2.7 7 3.5" stroke-linecap="round"/><path d="M3.2 6.8C4.8 5.1 8 4.5 8 4.5s3.2.6 4.8 2.3" stroke-linecap="round"/><path d="M5.5 9.1C6.3 8.3 8 8 8 8s1.7.3 2.5 1.1" stroke-linecap="round"/><circle cx="8" cy="11" r="1" fill="var(--text-primary)" stroke="none"/></svg>
            <svg width="25" height="12" viewBox="0 0 25 12" fill="none"><rect x="0.5" y="0.5" width="21" height="11" rx="3.5" stroke="var(--text-primary)" stroke-opacity="0.35"/><rect x="2" y="2" width="16" height="8" rx="2" fill="var(--text-primary)"/><path d="M23 4v4a2 2 0 000-4z" fill="var(--text-primary)" fill-opacity="0.4"/></svg>
        </div>
    </div>

    <!-- Header -->
    <div class="header">
        <div class="header-top">
            <h1 class="page-title">My Classes</h1>
            <button class="profile-btn" onclick="openModal('modal-profile')">AA</button>
        </div>
    </div>

    <!-- Content -->
    <div class="scroll-content">
        <div class="section-label">Active Rosters</div>

        <div class="class-card" onclick="window.location.href='roster.html'">
            <div class="card-top">
                <h3 class="class-name">Room 4</h3>
                <span class="grade-badge">Kindergarten</span>
            </div>
            <p class="student-count">22 Students</p>
            <div class="stats-row">
                <div class="stat-item"><span class="stat-value col-thriving">14</span><span class="stat-lbl">Thriving</span></div>
                <div class="stat-item"><span class="stat-value col-ontrack">6</span><span class="stat-lbl">On Track</span></div>
                <div class="stat-item"><span class="stat-value col-help">2</span><span class="stat-lbl">Need Help</span></div>
            </div>
        </div>

        <div class="class-card" onclick="window.location.href='roster.html'">
            <div class="card-top">
                <h3 class="class-name">Room 7</h3>
                <span class="grade-badge">Grade 1</span>
            </div>
            <p class="student-count">18 Students</p>
            <div class="stats-row">
                <div class="stat-item"><span class="stat-value col-thriving">9</span><span class="stat-lbl">Thriving</span></div>
                <div class="stat-item"><span class="stat-value col-ontrack">5</span><span class="stat-lbl">On Track</span></div>
                <div class="stat-item"><span class="stat-value col-help">4</span><span class="stat-lbl">Need Help</span></div>
            </div>
        </div>

        <div class="class-card" onclick="window.location.href='roster.html'">
            <div class="card-top">
                <h3 class="class-name">Room 2</h3>
                <span class="grade-badge">Grade 2</span>
            </div>
            <p class="student-count">24 Students</p>
            <div class="stats-row">
                <div class="stat-item"><span class="stat-value col-thriving">18</span><span class="stat-lbl">Thriving</span></div>
                <div class="stat-item"><span class="stat-value col-ontrack">4</span><span class="stat-lbl">On Track</span></div>
                <div class="stat-item"><span class="stat-value col-help">2</span><span class="stat-lbl">Need Help</span></div>
            </div>
        </div>

        <button class="add-class-btn" onclick="openModal('modal-new-class')">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
            Add New Class
        </button>
    </div>

    <!-- Bottom Nav -->
    <nav class="bottom-nav">
        <div class="nav-item active">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/>
                <path d="M23 21v-2a4 4 0 00-3-3.87"/><path d="M16 3.13a4 4 0 010 7.75"/>
            </svg>
            <span class="nav-label">Classes</span>
        </div>
        <a class="nav-item" href="reports.html">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/>
                <polyline points="14 2 14 8 20 8"/>
                <line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/>
            </svg>
            <span class="nav-label">Reports</span>
        </a>
        <div class="nav-item" onclick="showSettings(true)">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="3"/>
                <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"/>
            </svg>
            <span class="nav-label">Settings</span>
        </div>
    </nav>

    <!-- New Class Modal -->
    <div class="modal-overlay" id="modal-new-class" onclick="closeModal('modal-new-class')">
        <div class="modal-sheet" onclick="event.stopPropagation()">
            <div class="modal-handle"></div>
            <div class="modal-header">
                <h2 class="modal-title-txt">New Class</h2>
                <button class="modal-close-x" onclick="closeModal('modal-new-class')">√ó</button>
            </div>
            <label class="inp-label">Room / Class Name</label>
            <input id="new-class-name" class="inp-field" type="text" placeholder="e.g. Room 9" autocomplete="off">
            <label class="inp-label">Grade Level</label>
            <select id="new-class-grade" class="inp-field" style="appearance:none; -webkit-appearance:none;">
                <option>Kindergarten</option>
                <option>Grade 1</option>
                <option>Grade 2</option>
                <option>Grade 3</option>
                <option>Grade 4</option>
                <option>Grade 5</option>
            </select>
            <button class="btn-primary-full" onclick="createClass()">Create Class</button>
        </div>
    </div>

    <!-- Profile / Settings Modal -->
    <div class="modal-overlay" id="modal-profile" onclick="closeModal('modal-profile')">
        <div class="modal-sheet" onclick="event.stopPropagation()">
            <div class="modal-handle"></div>
            <div class="modal-header">
                <h2 class="modal-title-txt">Teacher Profile</h2>
                <button class="modal-close-x" onclick="closeModal('modal-profile')">√ó</button>
            </div>
            <!-- Profile info -->
            <div style="display:flex; align-items:center; gap:14px; padding:14px 16px; background:var(--bg-card); border-radius:16px; margin-bottom:16px;">
                <div style="width:48px; height:48px; border-radius:50%; background:linear-gradient(160deg,#E8F0E0,#C8DDB8); display:flex; align-items:center; justify-content:center; font-family:var(--font-serif); font-size:18px; font-weight:700; color:var(--color-tree);">AA</div>
                <div>
                    <div style="font-size:15px; font-weight:600;">Annus Awan</div>
                    <div style="font-size:13px; color:var(--text-tertiary);">annus.awan@seedling.edu</div>
                </div>
            </div>
            <div style="font-size:11px; font-weight:700; text-transform:uppercase; letter-spacing:0.08em; color:var(--text-tertiary); margin-bottom:8px;">Account</div>
            <div class="profile-row" onclick="showToast('Notification settings coming soon')">
                Notification Settings <span>‚Ä∫</span>
            </div>
            <div style="font-size:11px; font-weight:700; text-transform:uppercase; letter-spacing:0.08em; color:var(--text-tertiary); margin:14px 0 8px;">Rosters</div>
            <div class="profile-row" onclick="showToast('Manage rosters coming soon')">
                Manage &amp; Edit Rooms <span>‚Ä∫</span>
            </div>
            <div class="profile-row" onclick="showToast('Archived rosters coming soon')" style="color:#D97706;">
                View Archived Rosters <span>‚Ä∫</span>
            </div>
            <button class="btn-secondary-full" onclick="handleSignOut()">Sign Out</button>
        </div>
    </div>

    <!-- ‚îÄ‚îÄ Settings Screen ‚îÄ‚îÄ -->
    <div id="settings-screen" style="display:none; position:absolute; inset:0; background:var(--bg-page); border-radius:40px; z-index:50; flex-direction:column; overflow:hidden;">
        <div style="padding:60px var(--space-lg) 16px; background:var(--bg-page); flex-shrink:0;">
            <div style="display:flex; align-items:center; justify-content:space-between;">
                <h1 style="font-family:var(--font-serif); font-size:28px;">Settings</h1>
                <button onclick="showSettings(false)" style="background:var(--bg-card); border:1px solid var(--border-card); border-radius:50%; width:32px; height:32px; display:flex; align-items:center; justify-content:center; cursor:pointer; color:var(--text-secondary);">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M18 6L6 18M6 6l12 12"/></svg>
                </button>
            </div>
        </div>
        <div style="flex:1; overflow-y:auto; padding:0 var(--space-lg) 32px; display:flex; flex-direction:column; gap:24px;">

            <!-- Account -->
            <div>
                <div class="section-label">Account</div>
                <div style="background:var(--bg-card); border-radius:16px; border:1px solid var(--border-card); overflow:hidden;">
                    <div onclick="openSettingsModal('modal-edit-profile')" style="display:flex; align-items:center; gap:14px; padding:16px; cursor:pointer;">
                        <div style="width:44px; height:44px; border-radius:22px; background:linear-gradient(160deg,#E8F0E0 0%,#C8DDB8 100%); display:flex; align-items:center; justify-content:center; font-family:var(--font-serif); font-size:18px; font-weight:600; color:var(--color-tree);">A</div>
                        <div style="flex:1;"><div style="font-size:15px; font-weight:600;">Annus Awan</div><div style="font-size:13px; color:var(--text-tertiary);">annus.awan@seedling.edu</div></div>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#4F6D46" stroke-width="2.5"><path d="M9 18l6-6-6-6"/></svg>
                    </div>
                    <div style="height:1px; background:var(--border-card); margin:0 16px;"></div>
                    <div onclick="openSettingsModal('modal-password')" style="display:flex; align-items:center; gap:14px; padding:14px 16px; cursor:pointer;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--color-tree)" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg>
                        <span style="flex:1; font-size:14px; font-weight:500;">Change Password</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="2.5"><path d="M9 18l6-6-6-6"/></svg>
                    </div>
                </div>
            </div>

            <!-- Notifications -->
            <div>
                <div class="section-label">Notifications</div>
                <div style="background:var(--bg-card); border-radius:16px; border:1px solid var(--border-card); overflow:hidden;">
                    <div style="display:flex; align-items:center; gap:14px; padding:14px 16px;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--color-tree)" stroke-width="2"><path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 01-3.46 0"/></svg>
                        <span style="flex:1; font-size:14px; font-weight:500;">Push Notifications</span>
                        <div onclick="toggleSwitch(this)" style="width:44px; height:26px; border-radius:13px; background:var(--color-tree); position:relative; cursor:pointer; transition:background 0.2s; flex-shrink:0;" data-on="true">
                            <div style="width:20px; height:20px; border-radius:10px; background:white; position:absolute; top:3px; left:21px; transition:left 0.2s; box-shadow:0 1px 3px rgba(0,0,0,0.2);"></div>
                        </div>
                    </div>
                    <div style="height:1px; background:var(--border-card); margin:0 16px;"></div>
                    <div style="display:flex; align-items:center; gap:14px; padding:14px 16px;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--color-tree)" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
                        <span style="flex:1; font-size:14px; font-weight:500;">Weekly Email Reports</span>
                        <div onclick="toggleSwitch(this)" style="width:44px; height:26px; border-radius:13px; background:var(--color-tree); position:relative; cursor:pointer; transition:background 0.2s; flex-shrink:0;" data-on="true">
                            <div style="width:20px; height:20px; border-radius:10px; background:white; position:absolute; top:3px; left:21px; transition:left 0.2s; box-shadow:0 1px 3px rgba(0,0,0,0.2);"></div>
                        </div>
                    </div>
                    <div style="height:1px; background:var(--border-card); margin:0 16px;"></div>
                    <div style="display:flex; align-items:center; gap:14px; padding:14px 16px;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--color-tree)" stroke-width="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
                        <span style="flex:1; font-size:14px; font-weight:500;">Intervention Alerts</span>
                        <div onclick="toggleSwitch(this)" style="width:44px; height:26px; border-radius:13px; background:var(--color-tree); position:relative; cursor:pointer; transition:background 0.2s; flex-shrink:0;" data-on="true">
                            <div style="width:20px; height:20px; border-radius:10px; background:white; position:absolute; top:3px; left:21px; transition:left 0.2s; box-shadow:0 1px 3px rgba(0,0,0,0.2);"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Preferences -->
            <div>
                <div class="section-label">Preferences</div>
                <div style="background:var(--bg-card); border-radius:16px; border:1px solid var(--border-card); overflow:hidden;">
                    <div onclick="openSettingsModal('modal-appearance')" style="display:flex; align-items:center; gap:14px; padding:14px 16px; cursor:pointer;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--color-tree)" stroke-width="2"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
                        <span style="flex:1; font-size:14px; font-weight:500;">Appearance</span>
                        <span id="pref-appearance-val" style="font-size:13px; color:var(--text-tertiary); margin-right:6px;">Light</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="2.5"><path d="M9 18l6-6-6-6"/></svg>
                    </div>
                    <div style="height:1px; background:var(--border-card); margin:0 16px;"></div>
                    <div onclick="openSettingsModal('modal-language')" style="display:flex; align-items:center; gap:14px; padding:14px 16px; cursor:pointer;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--color-tree)" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"/></svg>
                        <span style="flex:1; font-size:14px; font-weight:500;">Language</span>
                        <span id="pref-language-val" style="font-size:13px; color:var(--text-tertiary); margin-right:6px;">English</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="2.5"><path d="M9 18l6-6-6-6"/></svg>
                    </div>
                    <div style="height:1px; background:var(--border-card); margin:0 16px;"></div>
                    <div onclick="openSettingsModal('modal-report-view')" style="display:flex; align-items:center; gap:14px; padding:14px 16px; cursor:pointer;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--color-tree)" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                        <span style="flex:1; font-size:14px; font-weight:500;">Default Report View</span>
                        <span id="pref-report-val" style="font-size:13px; color:var(--text-tertiary); margin-right:6px;">Detailed</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="2.5"><path d="M9 18l6-6-6-6"/></svg>
                    </div>
                </div>
            </div>

            <!-- About -->
            <div>
                <div class="section-label">About</div>
                <div style="background:var(--bg-card); border-radius:16px; border:1px solid var(--border-card); overflow:hidden;">
                    <div style="display:flex; align-items:center; gap:14px; padding:14px 16px;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--color-tree)" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                        <span style="flex:1; font-size:14px; font-weight:500;">App Version</span>
                        <span style="font-size:13px; color:var(--text-tertiary);">2.1.4</span>
                    </div>
                    <div style="height:1px; background:var(--border-card); margin:0 16px;"></div>
                    <div onclick="openSettingsModal('modal-logout')" style="display:flex; align-items:center; gap:14px; padding:14px 16px; cursor:pointer;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#C0392B" stroke-width="2"><path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
                        <span style="flex:1; font-size:14px; font-weight:500; color:#C0392B;">Log Out</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#C0392B" stroke-width="2.5"><path d="M9 18l6-6-6-6"/></svg>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- ‚îÄ‚îÄ Settings: Change Password Modal ‚îÄ‚îÄ -->
    <div class="settings-modal-overlay" id="modal-password">
        <div class="modal-sheet" style="background:white; border-radius:28px 28px 0 0; width:100%; padding:24px 24px 40px; box-sizing:border-box; max-height:88vh; overflow-y:auto; animation:slideUp 0.25s ease;" onclick="event.stopPropagation()">
            <div class="modal-handle"></div>
            <h2 class="modal-title">Change Password</h2>
            <p class="modal-subtitle">Annus Awan ¬∑ annus.awan@seedling.edu</p>
            <label class="input-label">Current Password</label>
            <input class="input-field" type="password" placeholder="Enter current password">
            <label class="input-label">New Password</label>
            <input class="input-field" type="password" placeholder="At least 8 characters">
            <label class="input-label">Confirm New Password</label>
            <input class="input-field" type="password" placeholder="Repeat new password">
            <button class="modal-cta" onclick="confirmSettingsAction('modal-password','Password updated!')" style="margin-top:8px;">Update Password</button>
            <button class="modal-close-btn" onclick="closeSettingsModal('modal-password')">Cancel</button>
        </div>
    </div>

    <!-- ‚îÄ‚îÄ Settings: Edit Profile Modal ‚îÄ‚îÄ -->
    <div class="settings-modal-overlay" id="modal-edit-profile">
        <div class="modal-sheet" style="background:white; border-radius:28px 28px 0 0; width:100%; padding:24px 24px 40px; box-sizing:border-box; max-height:88vh; overflow-y:auto; animation:slideUp 0.25s ease;" onclick="event.stopPropagation()">
            <div class="modal-handle"></div>
            <h2 class="modal-title">Edit Profile</h2>
            <p class="modal-subtitle">Update your account information</p>
            <label class="input-label">Full Name</label>
            <input class="input-field" type="text" value="Annus Awan">
            <label class="input-label">School</label>
            <input class="input-field" type="text" value="Seedling Academy">
            <label class="input-label">Grade Level</label>
            <select class="input-field">
                <option>Grade 1</option><option selected>Grade 2</option><option>Grade 3</option><option>Grade 4</option><option>Grade 5</option>
            </select>
            <label class="input-label">Role</label>
            <select class="input-field">
                <option selected>Class Teacher</option><option>Subject Teacher</option><option>School Admin</option>
            </select>
            <button class="modal-cta" onclick="confirmSettingsAction('modal-edit-profile','Profile updated!')" style="margin-top:8px;">Save Changes</button>
            <button class="modal-close-btn" onclick="closeSettingsModal('modal-edit-profile')">Cancel</button>
        </div>
    </div>

    <!-- ‚îÄ‚îÄ Settings: Appearance Modal ‚îÄ‚îÄ -->
    <div class="settings-modal-overlay" id="modal-appearance">
        <div class="modal-sheet" style="background:white; border-radius:28px 28px 0 0; width:100%; padding:24px 24px 40px; box-sizing:border-box; animation:slideUp 0.25s ease;" onclick="event.stopPropagation()">
            <div class="modal-handle"></div>
            <h2 class="modal-title">Appearance</h2>
            <p class="modal-subtitle">Choose your preferred theme</p>
            <div class="appearance-option selected" onclick="selectAppearance(this,'Light')">
                <span style="font-size:20px;">‚òÄÔ∏è</span>
                <div style="flex:1;"><div style="font-size:14px; font-weight:600;">Light</div><div style="font-size:12px; color:var(--text-tertiary);">Default warm paper theme</div></div>
                <div class="modal-check">‚úì</div>
            </div>
            <div class="appearance-option" onclick="selectAppearance(this,'Dark')">
                <span style="font-size:20px;">üåô</span>
                <div style="flex:1;"><div style="font-size:14px; font-weight:600;">Dark</div><div style="font-size:12px; color:var(--text-tertiary);">Low-light friendly</div></div>
            </div>
            <div class="appearance-option" onclick="selectAppearance(this,'Auto')">
                <span style="font-size:20px;">‚öôÔ∏è</span>
                <div style="flex:1;"><div style="font-size:14px; font-weight:600;">Auto</div><div style="font-size:12px; color:var(--text-tertiary);">Follows system setting</div></div>
            </div>
            <button class="modal-close-btn" onclick="closeSettingsModal('modal-appearance')" style="margin-top:8px;">Done</button>
        </div>
    </div>

    <!-- ‚îÄ‚îÄ Settings: Language Modal ‚îÄ‚îÄ -->
    <div class="settings-modal-overlay" id="modal-language">
        <div class="modal-sheet" style="background:white; border-radius:28px 28px 0 0; width:100%; padding:24px 24px 40px; box-sizing:border-box; animation:slideUp 0.25s ease;" onclick="event.stopPropagation()">
            <div class="modal-handle"></div>
            <h2 class="modal-title">Language</h2>
            <p class="modal-subtitle">Choose your display language</p>
            <div class="lang-option selected" onclick="selectLanguage(this,'English')">
                <span style="font-size:20px;">üá¨üáß</span>
                <div style="flex:1;"><div style="font-size:14px; font-weight:600;">English</div></div>
                <div class="modal-check">‚úì</div>
            </div>
            <div class="lang-option" onclick="selectLanguage(this,'Urdu')">
                <span style="font-size:20px;">üáµüá∞</span>
                <div style="flex:1;"><div style="font-size:14px; font-weight:600;">ÿßÿ±ÿØŸà (Urdu)</div></div>
            </div>
            <div class="lang-option" onclick="selectLanguage(this,'Punjabi')">
                <span style="font-size:20px;">üåø</span>
                <div style="flex:1;"><div style="font-size:14px; font-weight:600;">ŸæŸÜÿ¨ÿßÿ®€å (Punjabi)</div></div>
            </div>
            <button class="modal-close-btn" onclick="closeSettingsModal('modal-language')" style="margin-top:8px;">Done</button>
        </div>
    </div>

    <!-- ‚îÄ‚îÄ Settings: Default Report View Modal ‚îÄ‚îÄ -->
    <div class="settings-modal-overlay" id="modal-report-view">
        <div class="modal-sheet" style="background:white; border-radius:28px 28px 0 0; width:100%; padding:24px 24px 40px; box-sizing:border-box; animation:slideUp 0.25s ease;" onclick="event.stopPropagation()">
            <div class="modal-handle"></div>
            <h2 class="modal-title">Default Report View</h2>
            <p class="modal-subtitle">Choose how reports appear by default</p>
            <div class="appearance-option" onclick="selectReportView(this,'Summary')">
                <span style="font-size:20px;">üìã</span>
                <div style="flex:1;"><div style="font-size:14px; font-weight:600;">Summary</div><div style="font-size:12px; color:var(--text-tertiary);">Quick overview of key metrics</div></div>
            </div>
            <div class="appearance-option selected" onclick="selectReportView(this,'Detailed')">
                <span style="font-size:20px;">üìä</span>
                <div style="flex:1;"><div style="font-size:14px; font-weight:600;">Detailed</div><div style="font-size:12px; color:var(--text-tertiary);">Full breakdown with skill data</div></div>
                <div class="modal-check">‚úì</div>
            </div>
            <button class="modal-close-btn" onclick="closeSettingsModal('modal-report-view')" style="margin-top:8px;">Done</button>
        </div>
    </div>

    <!-- ‚îÄ‚îÄ Settings: Log Out Confirm Modal ‚îÄ‚îÄ -->
    <div class="settings-modal-overlay" id="modal-logout">
        <div class="modal-sheet" style="background:white; border-radius:28px 28px 0 0; width:100%; padding:24px 24px 40px; box-sizing:border-box; animation:slideUp 0.25s ease;" onclick="event.stopPropagation()">
            <div class="modal-handle"></div>
            <h2 class="modal-title">Log Out</h2>
            <p class="modal-subtitle" style="margin-bottom:24px;">Are you sure you want to sign out of your account?</p>
            <button class="modal-cta" style="background:#C0392B;" onclick="handleLogout()">Yes, Log Out</button>
            <button class="modal-close-btn" onclick="closeSettingsModal('modal-logout')">Cancel</button>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

</div><!-- /.screen -->
<script>
        function openModal(id) { document.getElementById(id).classList.add('open'); }
        function closeModal(id) { document.getElementById(id).classList.remove('open'); }

        function createClass() {
            const name  = document.getElementById('new-class-name').value.trim();
            const grade = document.getElementById('new-class-grade').value;
            if (!name) {
                document.getElementById('new-class-name').style.borderColor = '#D4834A';
                return;
            }
            closeModal('modal-new-class');
            document.getElementById('new-class-name').value = '';
            document.getElementById('new-class-name').style.borderColor = '';

            // Add card to list
            const btn = document.querySelector('.add-class-btn');
            const card = document.createElement('div');
            card.className = 'class-card';
            card.onclick = () => window.location.href = 'roster.html';
            card.innerHTML = `
                <div class="card-top">
                    <h3 class="class-name">${name}</h3>
                    <span class="grade-badge">${grade}</span>
                </div>
                <p class="student-count">0 Students</p>
                <div class="stats-row">
                    <div class="stat-item"><span class="stat-value col-thriving">0</span><span class="stat-lbl">Thriving</span></div>
                    <div class="stat-item"><span class="stat-value col-ontrack">0</span><span class="stat-lbl">On Track</span></div>
                    <div class="stat-item"><span class="stat-value col-help">0</span><span class="stat-lbl">Need Help</span></div>
                </div>`;
            btn.parentNode.insertBefore(card, btn);
            showToast(`"${name}" created! üå±`);
        }

        function toggleSwitch(el) {
            const on = el.dataset.on === 'true';
            el.dataset.on = String(!on);
            el.style.background = !on ? 'var(--color-tree)' : '#D0D0D0';
            el.querySelector('div').style.left = !on ? '21px' : '3px';
        }

        function handleSignOut() {
            closeModal('modal-profile');
            showToast('Signing out‚Ä¶');
            setTimeout(() => window.location.href = 'index.html', 1200);
        }

        function showSettings(v) {
            const s = document.getElementById('settings-screen');
            s.style.display = v ? 'flex' : 'none';
        }

        function openSettingsModal(id) {
            document.getElementById(id).classList.add('open');
        }

        function closeSettingsModal(id) {
            document.getElementById(id).classList.remove('open');
        }

        function confirmSettingsAction(modalId, msg) {
            closeSettingsModal(modalId);
            showToast(msg);
        }

        function selectAppearance(el, val) {
            document.querySelectorAll('#modal-appearance .appearance-option').forEach(o => {
                o.classList.remove('selected');
                const check = o.querySelector('.modal-check');
                if (check) check.remove();
            });
            el.classList.add('selected');
            const check = document.createElement('div');
            check.className = 'modal-check';
            check.textContent = '‚úì';
            el.appendChild(check);
            document.getElementById('pref-appearance-val').textContent = val;
        }

        function selectLanguage(el, val) {
            document.querySelectorAll('#modal-language .lang-option').forEach(o => {
                o.classList.remove('selected');
                const check = o.querySelector('.modal-check');
                if (check) check.remove();
            });
            el.classList.add('selected');
            const check = document.createElement('div');
            check.className = 'modal-check';
            check.textContent = '‚úì';
            el.appendChild(check);
            document.getElementById('pref-language-val').textContent = val;
        }

        function selectReportView(el, val) {
            document.querySelectorAll('#modal-report-view .appearance-option').forEach(o => {
                o.classList.remove('selected');
                const check = o.querySelector('.modal-check');
                if (check) check.remove();
            });
            el.classList.add('selected');
            const check = document.createElement('div');
            check.className = 'modal-check';
            check.textContent = '‚úì';
            el.appendChild(check);
            document.getElementById('pref-report-val').textContent = val;
        }

        function handleLogout() {
            closeSettingsModal('modal-logout');
            showSettings(false);
            showToast('Signing out‚Ä¶');
            setTimeout(() => window.location.href = 'index.html', 1200);
        }

        function showToast(msg) {
            const t = document.getElementById('toast');
            t.textContent = msg; t.style.display = 'block';
            setTimeout(() => t.style.display = 'none', 3000);
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weekly Progress ‚Äî Seedling</title>
    <style>
        :root {
            --bg-page: #FCFBF7;
            --bg-card: #F5F1E6;
            --border-card: #E6E1D1;
            --text-primary: #1A1A1A;
            --text-secondary: #5C5C5C;
            --text-tertiary: #888888;
            --color-tree: #4F6D46;
            --color-sapling: #7D8C55;
            --color-progress-bg: #EBE7DA;
            --color-warning: #D4834A;
            --font-serif: 'Georgia', 'Times New Roman', serif;
            --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            --space-md: 16px;
            --space-lg: 24px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

        html, body {
            height: 100%;
            background-color: #DDD9CF;
            display: flex; align-items: center; justify-content: center;
        }

        .screen {
            background-color: var(--bg-page);
            color: var(--text-primary);
            font-family: var(--font-sans);
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            width: 390px; height: 844px;
            overflow: hidden;
            display: flex; flex-direction: column;
            position: relative;
            border-radius: 40px;
            border: 1px solid #ccc;
            box-shadow: 0 28px 72px rgba(0,0,0,0.22), 0 4px 16px rgba(0,0,0,0.08);
            flex-shrink: 0;
        }

        /* ‚îÄ‚îÄ Status Bar ‚îÄ‚îÄ */
        .status-bar {
            height: 50px; padding: 14px var(--space-lg) 0;
            display: flex; align-items: center; justify-content: space-between;
            flex-shrink: 0;
        }
        .status-time { font-size: 15px; font-weight: 600; }
        .status-icons { display: flex; align-items: center; gap: 6px; }

        .header {
            padding: 10px var(--space-lg) 16px;
            background-color: var(--bg-page);
            z-index: 10; flex-shrink: 0;
            position: relative;
        }

        .page-title {
            font-family: var(--font-serif);
            font-size: 28px; line-height: 1.2; margin-bottom: 4px;
        }

        .page-subtitle {
            font-size: 14px; color: var(--text-secondary); margin-bottom: 20px;
        }

        .filter-bar {
            display: flex; align-items: center; justify-content: space-between;
            background: #EBE7DA; padding: 8px 16px;
            border-radius: 12px; margin-bottom: 8px;
            cursor: pointer; user-select: none;
        }

        .filter-text {
            font-size: 13px; font-weight: 600; color: var(--color-tree);
            display: flex; align-items: center; gap: 6px;
        }

        /* Timeline dropdown */
        #timeline-dropdown {
            display: none;
            position: absolute; left: 24px; right: 24px;
            top: calc(100% - 12px);
            background: white; border: 1px solid #ccc;
            border-radius: 6px; overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15); z-index: 100;
        }

        .timeline-option {
            padding: 13px 16px; font-size: 14px; font-weight: 500;
            color: var(--text-primary); border-bottom: 1px solid var(--border-card);
            cursor: pointer; transition: background 0.15s;
        }
        .timeline-option:last-child { border-bottom: none; }
        .timeline-option:hover { background: var(--bg-card); }
        .timeline-option-active { font-weight: 700; color: var(--color-tree); background: #F0F5ED; }

        /* Scroll */
        .scroll-container {
            flex: 1; overflow-y: auto;
            padding: 8px var(--space-lg) 120px;
            display: flex; flex-direction: column; gap: 24px;
        }
        .scroll-container::-webkit-scrollbar { display: none; }

        .section-label {
            font-size: 12px; font-weight: 700; text-transform: uppercase;
            letter-spacing: 0.1em; color: var(--text-tertiary); margin-bottom: 12px;
        }

        .card {
            background-color: var(--bg-card); border-radius: 20px;
            padding: 20px; border: 1px solid var(--border-card);
        }

        /* Line chart */
        .line-chart-container {
            position: relative; height: 160px;
            margin-top: 24px; margin-bottom: 12px;
            padding-bottom: 20px; border-bottom: 1px solid var(--border-card);
        }

        .chart-svg { width: 100%; height: 100%; overflow: visible; }

        .day-labels { display: flex; justify-content: space-between; margin-top: 8px; }
        .day-label {
            font-size: 10px; font-weight: 700; color: var(--text-tertiary);
            width: 30px; text-align: center;
        }

        .peak-marker {
            position: absolute; background: var(--color-tree); color: white;
            font-size: 9px; font-weight: 800; padding: 2px 6px;
            border-radius: 4px; transform: translate(-50%, -100%); margin-top: -8px;
        }

        .low-marker {
            position: absolute; background: var(--color-warning); color: white;
            font-size: 9px; font-weight: 800; padding: 2px 6px;
            border-radius: 4px; transform: translate(-50%, 4px);
        }

        /* Stat grid */
        .stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 20px; }
        .stat-item {
            background: white; padding: 12px; border-radius: 12px;
            border: 1px solid var(--border-card);
        }
        .stat-val {
            font-family: var(--font-serif); font-size: 18px;
            font-weight: bold; display: block;
        }
        .stat-lbl {
            font-size: 11px; color: var(--text-tertiary);
            font-weight: 600; text-transform: uppercase;
        }

        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }

        /* ‚îÄ‚îÄ Toast ‚îÄ‚îÄ */
        .toast {
            position: absolute; top: 64px; left: var(--space-lg); right: var(--space-lg);
            background: #1A1A1A; color: white; padding: 13px 16px; border-radius: 14px;
            font-size: 14px; font-weight: 500; z-index: 300; display: none;
            animation: toastIn 0.22s ease;
        }
        @keyframes toastIn { from { opacity: 0; transform: translateY(-6px); } to { opacity: 1; transform: translateY(0); } }

        /* ‚îÄ‚îÄ Settings ‚îÄ‚îÄ */
        .settings-modal-overlay { display:none; position:absolute; inset:0; background:rgba(0,0,0,0.35); z-index:200; border-radius:40px; align-items:flex-end; }
        .settings-modal-overlay.open { display:flex; }
        .appearance-option { display:flex; align-items:center; gap:12px; padding:13px 14px; border-radius:12px; border:1.5px solid var(--border-card); margin-bottom:10px; cursor:pointer; }
        .appearance-option.selected { border-color:var(--color-tree); background:#F0F5ED; }
        .lang-option { display:flex; align-items:center; gap:12px; padding:12px 14px; border-radius:12px; border:1.5px solid var(--border-card); margin-bottom:8px; cursor:pointer; }
        .lang-option.selected { border-color:var(--color-tree); background:#F0F5ED; }
        .modal-title { font-family:var(--font-serif); font-size:20px; margin-bottom:6px; }
        .modal-subtitle { font-size:13px; color:var(--text-tertiary); margin-bottom:20px; }
        .input-label { font-size:12px; font-weight:700; color:var(--text-tertiary); text-transform:uppercase; letter-spacing:0.06em; margin-bottom:6px; display:block; }
        .input-field { width:100%; padding:12px 14px; border:1.5px solid var(--border-card); border-radius:12px; font-size:15px; font-family:inherit; background:var(--bg-page); color:var(--text-primary); margin-bottom:14px; outline:none; }
        .input-field:focus { border-color:var(--color-tree); }
        .modal-check { width:24px; height:24px; border-radius:50%; background:var(--color-tree); color:white; font-size:13px; font-weight:700; display:flex; align-items:center; justify-content:center; }
        .modal-cta { width:100%; padding:14px; border:none; border-radius:14px; background:var(--color-tree); font-size:15px; font-weight:600; color:white; cursor:pointer; font-family:inherit; }
        .modal-close-btn { margin-top:10px; width:100%; padding:14px; border:1.5px solid var(--border-card); border-radius:14px; background:none; font-size:15px; font-weight:600; color:var(--text-secondary); cursor:pointer; font-family:inherit; }

        /* Bottom Nav */
        .bottom-nav {
            position: absolute; bottom: 0; left: 0; right: 0;
            height: 84px; background: white;
            border-top: 1px solid var(--border-card);
            display: flex; justify-content: space-around; align-items: center;
            padding-bottom: 20px; z-index: 30;
        }
        .nav-item {
            display: flex; flex-direction: column; align-items: center;
            gap: 4px; color: var(--text-tertiary); text-decoration: none; cursor: pointer;
        }
        .nav-item.active { color: var(--color-tree); }
        .nav-label { font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; }
        @media (max-width: 430px) {
            html, body { display: block; width: 100%; height: 100dvh; background-color: var(--bg-page); margin: 0; padding: 0; }
            .screen { width: 100%; height: 100dvh; border-radius: 0; border: none; box-shadow: none; }
        }
    </style>
</head>
<body>
<div class="screen">

    <!-- Status Bar -->
    <div class="status-bar">
        <span class="status-time">9:41</span>
        <div class="status-icons">
            <svg width="17" height="12" viewBox="0 0 17 12" fill="var(--text-primary)"><rect x="0" y="7" width="3" height="5" rx="1"/><rect x="4.5" y="4.5" width="3" height="7.5" rx="1"/><rect x="9" y="2" width="3" height="10" rx="1"/><rect x="13.5" y="0" width="3" height="12" rx="1"/></svg>
            <svg width="16" height="12" viewBox="0 0 16 12" fill="none" stroke="var(--text-primary)" stroke-width="1.5"><path d="M1 4.5C3.8 1.7 8 1 8 1s4.2.7 7 3.5" stroke-linecap="round"/><path d="M3.2 6.8C4.8 5.1 8 4.5 8 4.5s3.2.6 4.8 2.3" stroke-linecap="round"/><path d="M5.5 9.1C6.3 8.3 8 8 8 8s1.7.3 2.5 1.1" stroke-linecap="round"/><circle cx="8" cy="11" r="1" fill="var(--text-primary)" stroke="none"/></svg>
            <svg width="25" height="12" viewBox="0 0 25 12" fill="none"><rect x="0.5" y="0.5" width="21" height="11" rx="3.5" stroke="var(--text-primary)" stroke-opacity="0.35"/><rect x="2" y="2" width="16" height="8" rx="2" fill="var(--text-primary)"/><path d="M23 4v4a2 2 0 000-4z" fill="var(--text-primary)" fill-opacity="0.4"/></svg>
        </div>
    </div>

    <header class="header">
        <h1 class="page-title">Weekly Progress</h1>
        <p class="page-subtitle" id="page-subtitle">Oct 16 ‚Äî Oct 22 ‚Ä¢ Grade 2</p>

        <div class="filter-bar" onclick="toggleTimeline()">
            <div class="filter-text">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                    <line x1="16" y1="2" x2="16" y2="6"/>
                    <line x1="8" y1="2" x2="8" y2="6"/>
                    <line x1="3" y1="10" x2="21" y2="10"/>
                </svg>
                <span id="timeline-label">Current Week</span>
            </div>
            <svg id="timeline-chevron" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="transition:transform 0.2s;">
                <path d="M6 9l6 6 6-6"/>
            </svg>
        </div>

        <!-- Timeline Dropdown -->
        <div id="timeline-dropdown">
            <div onclick="selectTimeline('Current Week','Oct 16 ‚Äî Oct 22 ‚Ä¢ Grade 2','opt-current')" class="timeline-option timeline-option-active" id="opt-current">Current Week</div>
            <div onclick="selectTimeline('Last Week','Oct 9 ‚Äî Oct 15 ‚Ä¢ Grade 2','opt-last')" class="timeline-option" id="opt-last">Last Week</div>
            <div onclick="selectTimeline('Last 2 Weeks','Oct 9 ‚Äî Oct 22 ‚Ä¢ Grade 2','opt-2weeks')" class="timeline-option" id="opt-2weeks">Last 2 Weeks</div>
            <div onclick="selectTimeline('This Month','October 2024 ‚Ä¢ Grade 2','opt-month')" class="timeline-option" id="opt-month">This Month</div>
            <div onclick="selectTimeline('Last Month','September 2024 ‚Ä¢ Grade 2','opt-lastmonth')" class="timeline-option" id="opt-lastmonth">Last Month</div>
        </div>
    </header>

    <main class="scroll-container">

        <!-- Engagement Trend -->
        <section>
            <h2 class="section-label">Engagement Trend</h2>
            <div class="card">
                <div style="display:flex; justify-content:space-between; align-items:baseline;">
                    <div>
                        <span style="font-family:var(--font-serif);font-size:32px;color:var(--color-tree);font-weight:bold;">82%</span>
                        <span style="font-size:14px;color:var(--text-secondary);"> Engagement</span>
                    </div>
                    <span style="font-size:12px;color:var(--color-sapling);font-weight:600;">‚Üë 12% vs last week</span>
                </div>

                <div class="line-chart-container">
                    <svg class="chart-svg" viewBox="0 0 300 120">
                        <line x1="0" y1="0" x2="300" y2="0" stroke="#E6E1D1" stroke-dasharray="4"/>
                        <line x1="0" y1="60" x2="300" y2="60" stroke="#E6E1D1" stroke-dasharray="4"/>
                        <line x1="0" y1="120" x2="300" y2="120" stroke="#E6E1D1"/>
                        <path d="M 0,80 Q 25,70 50,40 T 100,20 T 150,90 T 200,50 T 250,30 T 300,45"
                              fill="none" stroke="var(--color-tree)" stroke-width="3" stroke-linecap="round"/>
                        <circle cx="100" cy="20" r="4" fill="var(--color-tree)"/>
                        <circle cx="150" cy="90" r="4" fill="var(--color-warning)"/>
                    </svg>

                    <div class="peak-marker" style="left:33%;top:20px;">PEAK</div>
                    <div class="low-marker" style="left:50%;top:90px;">LOW</div>

                    <div class="day-labels">
                        <span class="day-label">MON</span>
                        <span class="day-label">TUE</span>
                        <span class="day-label">WED</span>
                        <span class="day-label">THU</span>
                        <span class="day-label">FRI</span>
                        <span class="day-label">SAT</span>
                        <span class="day-label">SUN</span>
                    </div>
                </div>

                <div class="stat-grid">
                    <div class="stat-item">
                        <span class="stat-lbl">Best Subject</span>
                        <span class="stat-val" style="color:var(--color-tree);">Phonics</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-lbl">Highest Day</span>
                        <span class="stat-val">Tuesday</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Key Insights -->
        <section>
            <h2 class="section-label">Key Insights</h2>
            <div style="background:white;border-radius:16px;border:1px solid var(--border-card);overflow:hidden;">
                <div style="padding:16px;border-bottom:1px solid var(--border-card);display:flex;align-items:flex-start;gap:12px;">
                    <div style="background:#E8F0E0;padding:8px;border-radius:8px;flex-shrink:0;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--color-tree)" stroke-width="2">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                            <polyline points="22 4 12 14.01 9 11.01"/>
                        </svg>
                    </div>
                    <div>
                        <p style="font-size:14px;font-weight:600;">Morning Surge</p>
                        <p style="font-size:13px;color:var(--text-secondary);">85% of students completed their core tasks before 10 AM on Tuesday.</p>
                    </div>
                </div>
                <div style="padding:16px;display:flex;align-items:flex-start;gap:12px;">
                    <div style="background:#FDF1E9;padding:8px;border-radius:8px;flex-shrink:0;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--color-warning)" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="12" y1="8" x2="12" y2="12"/>
                            <line x1="12" y1="16" x2="12.01" y2="16"/>
                        </svg>
                    </div>
                    <div>
                        <p style="font-size:14px;font-weight:600;">Mid-week Slump</p>
                        <p style="font-size:13px;color:var(--text-secondary);">Engagement dropped 22% on Wednesday. Consider lighter afternoon tasks.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Subject Mastery -->
        <section>
            <h2 class="section-label">Subject Mastery</h2>
            <div class="card">
                <!-- Reading -->
                <div style="margin-bottom:18px;">
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;">
                        <span style="font-size:14px;font-weight:600;">Reading</span>
                        <span style="font-size:13px;font-weight:700;color:var(--color-tree);">78%</span>
                    </div>
                    <div style="height:8px;background:var(--color-progress-bg);border-radius:99px;overflow:hidden;">
                        <div style="width:78%;height:100%;background:var(--color-tree);border-radius:99px;"></div>
                    </div>
                    <span style="font-size:11px;color:var(--text-tertiary);margin-top:4px;display:block;">18 / 23 students on track</span>
                </div>
                <!-- Math -->
                <div style="margin-bottom:18px;">
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;">
                        <span style="font-size:14px;font-weight:600;">Math</span>
                        <span style="font-size:13px;font-weight:700;color:var(--color-warning);">61%</span>
                    </div>
                    <div style="height:8px;background:var(--color-progress-bg);border-radius:99px;overflow:hidden;">
                        <div style="width:61%;height:100%;background:var(--color-warning);border-radius:99px;"></div>
                    </div>
                    <span style="font-size:11px;color:var(--text-tertiary);margin-top:4px;display:block;">14 / 23 students on track</span>
                </div>
                <!-- Phonics -->
                <div>
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;">
                        <span style="font-size:14px;font-weight:600;">Phonics</span>
                        <span style="font-size:13px;font-weight:700;color:var(--color-tree);">91%</span>
                    </div>
                    <div style="height:8px;background:var(--color-progress-bg);border-radius:99px;overflow:hidden;">
                        <div style="width:91%;height:100%;background:var(--color-tree);border-radius:99px;"></div>
                    </div>
                    <span style="font-size:11px;color:var(--text-tertiary);margin-top:4px;display:block;">21 / 23 students on track</span>
                </div>
            </div>
        </section>

        <!-- Needs Attention -->
        <section>
            <h2 class="section-label">Needs Attention</h2>
            <div style="display:flex;flex-direction:column;gap:10px;">

                <a href="student-detail.html" style="background:var(--bg-card);border:1px solid var(--border-card);border-radius:16px;padding:14px 16px;display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;">
                    <div style="width:36px;height:36px;border-radius:50%;background:#D4834A22;display:flex;align-items:center;justify-content:center;font-family:var(--font-serif);font-weight:bold;color:var(--color-warning);font-size:14px;flex-shrink:0;">DM</div>
                    <div style="flex:1;">
                        <div style="font-size:14px;font-weight:600;">Dawood Malik</div>
                        <div style="font-size:12px;color:var(--color-warning);">Math gap ¬∑ Counting &amp; Place Value</div>
                    </div>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--text-tertiary)" stroke-width="2.5"><path d="M9 18l6-6-6-6"/></svg>
                </a>

                <a href="student-detail.html" style="background:var(--bg-card);border:1px solid var(--border-card);border-radius:16px;padding:14px 16px;display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;">
                    <div style="width:36px;height:36px;border-radius:50%;background:#D4834A22;display:flex;align-items:center;justify-content:center;font-family:var(--font-serif);font-weight:bold;color:var(--color-warning);font-size:14px;flex-shrink:0;">BA</div>
                    <div style="flex:1;">
                        <div style="font-size:14px;font-weight:600;">Bilal Ahmed</div>
                        <div style="font-size:12px;color:var(--color-warning);">Low engagement ¬∑ 3 days</div>
                    </div>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--text-tertiary)" stroke-width="2.5"><path d="M9 18l6-6-6-6"/></svg>
                </a>

                <a href="student-detail.html" style="background:var(--bg-card);border:1px solid var(--border-card);border-radius:16px;padding:14px 16px;display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;">
                    <div style="width:36px;height:36px;border-radius:50%;background:#D4834A22;display:flex;align-items:center;justify-content:center;font-family:var(--font-serif);font-weight:bold;color:var(--color-warning);font-size:14px;flex-shrink:0;">FR</div>
                    <div style="flex:1;">
                        <div style="font-size:14px;font-weight:600;">Annus Raza</div>
                        <div style="font-size:12px;color:var(--color-warning);">Reading ¬∑ Comprehension gap</div>
                    </div>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--text-tertiary)" stroke-width="2.5"><path d="M9 18l6-6-6-6"/></svg>
                </a>

            </div>
        </section>

        <!-- Assignments This Week -->
        <section>
            <h2 class="section-label">Assignments This Week</h2>
            <div class="card">
                <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;">
                    <div style="text-align:center;background:white;border-radius:12px;border:1px solid var(--border-card);padding:12px 8px;">
                        <div style="font-family:var(--font-serif);font-size:22px;font-weight:bold;color:var(--color-tree);">14</div>
                        <div style="font-size:10px;font-weight:700;text-transform:uppercase;color:var(--text-tertiary);margin-top:2px;">Assigned</div>
                    </div>
                    <div style="text-align:center;background:white;border-radius:12px;border:1px solid var(--border-card);padding:12px 8px;">
                        <div style="font-family:var(--font-serif);font-size:22px;font-weight:bold;color:var(--color-tree);">11</div>
                        <div style="font-size:10px;font-weight:700;text-transform:uppercase;color:var(--text-tertiary);margin-top:2px;">Completed</div>
                    </div>
                    <div style="text-align:center;background:white;border-radius:12px;border:1px solid var(--border-card);padding:12px 8px;">
                        <div style="font-family:var(--font-serif);font-size:22px;font-weight:bold;color:var(--color-warning);">3</div>
                        <div style="font-size:10px;font-weight:700;text-transform:uppercase;color:var(--text-tertiary);margin-top:2px;">Overdue</div>
                    </div>
                </div>
                <div style="margin-top:14px;padding-top:14px;border-top:1px solid var(--border-card);">
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;">
                        <span style="font-size:13px;color:var(--text-secondary);">Place Value Practice</span>
                        <span style="font-size:12px;font-weight:600;color:var(--color-warning);background:#FDF1E9;padding:2px 8px;border-radius:99px;">Overdue</span>
                    </div>
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;">
                        <span style="font-size:13px;color:var(--text-secondary);">Phonics Blends Quiz</span>
                        <span style="font-size:12px;font-weight:600;color:var(--color-tree);background:#E8F0E0;padding:2px 8px;border-radius:99px;">Done</span>
                    </div>
                    <div style="display:flex;justify-content:space-between;align-items:center;">
                        <span style="font-size:13px;color:var(--text-secondary);">Reading Comprehension Set</span>
                        <span style="font-size:12px;font-weight:600;color:var(--color-tree);background:#E8F0E0;padding:2px 8px;border-radius:99px;">Done</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Class Mood Check-in -->
        <section>
            <h2 class="section-label">Class Mood Check-in</h2>
            <div class="card">
                <p style="font-size:13px;color:var(--text-secondary);margin-bottom:14px;">How students reported feeling this week</p>
                <div style="display:flex;justify-content:space-between;align-items:flex-end;gap:8px;">
                    <div style="text-align:center;flex:1;">
                        <div style="font-size:22px;">üòä</div>
                        <div style="height:50px;background:var(--color-tree);border-radius:6px 6px 0 0;margin-top:6px;"></div>
                        <div style="font-size:10px;font-weight:700;color:var(--text-tertiary);margin-top:4px;">48%</div>
                    </div>
                    <div style="text-align:center;flex:1;">
                        <div style="font-size:22px;">üòê</div>
                        <div style="height:30px;background:var(--color-sapling);border-radius:6px 6px 0 0;margin-top:6px;"></div>
                        <div style="font-size:10px;font-weight:700;color:var(--text-tertiary);margin-top:4px;">30%</div>
                    </div>
                    <div style="text-align:center;flex:1;">
                        <div style="font-size:22px;">üòî</div>
                        <div style="height:14px;background:var(--color-warning);border-radius:6px 6px 0 0;margin-top:6px;"></div>
                        <div style="font-size:10px;font-weight:700;color:var(--text-tertiary);margin-top:4px;">14%</div>
                    </div>
                    <div style="text-align:center;flex:1;">
                        <div style="font-size:22px;">üò§</div>
                        <div style="height:8px;background:#C0A060;border-radius:6px 6px 0 0;margin-top:6px;"></div>
                        <div style="font-size:10px;font-weight:700;color:var(--text-tertiary);margin-top:4px;">8%</div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Bottom Nav -->
    <nav class="bottom-nav">
        <a class="nav-item" href="my-classes.html">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M23 21v-2a4 4 0 00-3-3.87"/>
                <path d="M16 3.13a4 4 0 010 7.75"/>
            </svg>
            <span class="nav-label">Classes</span>
        </a>
        <a class="nav-item active" href="reports.html">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/>
                <polyline points="14 2 14 8 20 8"/>
                <line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/>
            </svg>
            <span class="nav-label">Reports</span>
        </a>
        <div class="nav-item" onclick="showSettings(true)">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="3"/>
                <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"/>
            </svg>
            <span class="nav-label">Settings</span>
        </div>
    </nav>

    <!-- ‚îÄ‚îÄ Settings Screen ‚îÄ‚îÄ -->
    <div id="settings-screen" style="display:none; position:absolute; inset:0; background:var(--bg-page); border-radius:40px; z-index:50; flex-direction:column; overflow:hidden;">
        <div style="padding:60px var(--space-lg) 16px; background:var(--bg-page); flex-shrink:0;">
            <div style="display:flex; align-items:center; justify-content:space-between;">
                <h1 style="font-family:var(--font-serif); font-size:28px;">Settings</h1>
                <button onclick="showSettings(false)" style="background:var(--bg-card); border:1px solid var(--border-card); border-radius:50%; width:32px; height:32px; display:flex; align-items:center; justify-content:center; cursor:pointer; color:var(--text-secondary);">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M18 6L6 18M6 6l12 12"/></svg>
                </button>
            </div>
        </div>
        <div style="flex:1; overflow-y:auto; padding:0 var(--space-lg) 32px; display:flex; flex-direction:column; gap:24px;">
            <!-- Account -->
            <div>
                <div class="section-label">Account</div>
                <div style="background:var(--bg-card); border-radius:16px; border:1px solid var(--border-card); overflow:hidden;">
                    <div onclick="openSettingsModal('modal-edit-profile')" style="display:flex; align-items:center; gap:14px; padding:16px; cursor:pointer;">
                        <div style="width:44px; height:44px; border-radius:22px; background:linear-gradient(160deg,#E8F0E0 0%,#C8DDB8 100%); display:flex; align-items:center; justify-content:center; font-family:var(--font-serif); font-size:18px; font-weight:600; color:var(--color-tree);">A</div>
                        <div style="flex:1;"><div style="font-size:15px; font-weight:600;">Annus Awan</div><div style="font-size:13px; color:var(--text-tertiary);">annus.awan@seedling.edu</div></div>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#4F6D46" stroke-width="2.5"><path d="M9 18l6-6-6-6"/></svg>
                    </div>
                    <div style="height:1px; background:var(--border-card); margin:0 16px;"></div>
                    <div onclick="openSettingsModal('modal-password')" style="display:flex; align-items:center; gap:14px; padding:14px 16px; cursor:pointer;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--color-tree)" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg>
                        <span style="flex:1; font-size:14px; font-weight:500;">Change Password</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="2.5"><path d="M9 18l6-6-6-6"/></svg>
                    </div>
                </div>
            </div>
            <!-- Notifications -->
            <div>
                <div class="section-label">Notifications</div>
                <div style="background:var(--bg-card); border-radius:16px; border:1px solid var(--border-card); overflow:hidden;">
                    <div style="display:flex; align-items:center; gap:14px; padding:14px 16px;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--color-tree)" stroke-width="2"><path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 01-3.46 0"/></svg>
                        <span style="flex:1; font-size:14px; font-weight:500;">Push Notifications</span>
                        <div onclick="toggleSwitch(this)" style="width:44px; height:26px; border-radius:13px; background:var(--color-tree); position:relative; cursor:pointer; transition:background 0.2s; flex-shrink:0;" data-on="true">
                            <div style="width:20px; height:20px; border-radius:10px; background:white; position:absolute; top:3px; left:21px; transition:left 0.2s; box-shadow:0 1px 3px rgba(0,0,0,0.2);"></div>
                        </div>
                    </div>
                    <div style="height:1px; background:var(--border-card); margin:0 16px;"></div>
                    <div style="display:flex; align-items:center; gap:14px; padding:14px 16px;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--color-tree)" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
                        <span style="flex:1; font-size:14px; font-weight:500;">Weekly Email Reports</span>
                        <div onclick="toggleSwitch(this)" style="width:44px; height:26px; border-radius:13px; background:var(--color-tree); position:relative; cursor:pointer; transition:background 0.2s; flex-shrink:0;" data-on="true">
                            <div style="width:20px; height:20px; border-radius:10px; background:white; position:absolute; top:3px; left:21px; transition:left 0.2s; box-shadow:0 1px 3px rgba(0,0,0,0.2);"></div>
                        </div>
                    </div>
                    <div style="height:1px; background:var(--border-card); margin:0 16px;"></div>
                    <div style="display:flex; align-items:center; gap:14px; padding:14px 16px;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--color-tree)" stroke-width="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
                        <span style="flex:1; font-size:14px; font-weight:500;">Intervention Alerts</span>
                        <div onclick="toggleSwitch(this)" style="width:44px; height:26px; border-radius:13px; background:var(--color-tree); position:relative; cursor:pointer; transition:background 0.2s; flex-shrink:0;" data-on="true">
                            <div style="width:20px; height:20px; border-radius:10px; background:white; position:absolute; top:3px; left:21px; transition:left 0.2s; box-shadow:0 1px 3px rgba(0,0,0,0.2);"></div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Preferences -->
            <div>
                <div class="section-label">Preferences</div>
                <div style="background:var(--bg-card); border-radius:16px; border:1px solid var(--border-card); overflow:hidden;">
                    <div onclick="openSettingsModal('modal-appearance')" style="display:flex; align-items:center; gap:14px; padding:14px 16px; cursor:pointer;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--color-tree)" stroke-width="2"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
                        <span style="flex:1; font-size:14px; font-weight:500;">Appearance</span>
                        <span id="pref-appearance-val" style="font-size:13px; color:var(--text-tertiary); margin-right:6px;">Light</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="2.5"><path d="M9 18l6-6-6-6"/></svg>
                    </div>
                    <div style="height:1px; background:var(--border-card); margin:0 16px;"></div>
                    <div onclick="openSettingsModal('modal-language')" style="display:flex; align-items:center; gap:14px; padding:14px 16px; cursor:pointer;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--color-tree)" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"/></svg>
                        <span style="flex:1; font-size:14px; font-weight:500;">Language</span>
                        <span id="pref-language-val" style="font-size:13px; color:var(--text-tertiary); margin-right:6px;">English</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="2.5"><path d="M9 18l6-6-6-6"/></svg>
                    </div>
                    <div style="height:1px; background:var(--border-card); margin:0 16px;"></div>
                    <div onclick="openSettingsModal('modal-report-view')" style="display:flex; align-items:center; gap:14px; padding:14px 16px; cursor:pointer;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--color-tree)" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                        <span style="flex:1; font-size:14px; font-weight:500;">Default Report View</span>
                        <span id="pref-report-val" style="font-size:13px; color:var(--text-tertiary); margin-right:6px;">Detailed</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="2.5"><path d="M9 18l6-6-6-6"/></svg>
                    </div>
                </div>
            </div>
            <!-- About -->
            <div>
                <div class="section-label">About</div>
                <div style="background:var(--bg-card); border-radius:16px; border:1px solid var(--border-card); overflow:hidden;">
                    <div style="display:flex; align-items:center; gap:14px; padding:14px 16px;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--color-tree)" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                        <span style="flex:1; font-size:14px; font-weight:500;">App Version</span>
                        <span style="font-size:13px; color:var(--text-tertiary);">2.1.4</span>
                    </div>
                    <div style="height:1px; background:var(--border-card); margin:0 16px;"></div>
                    <div onclick="openSettingsModal('modal-logout')" style="display:flex; align-items:center; gap:14px; padding:14px 16px; cursor:pointer;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#C0392B" stroke-width="2"><path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
                        <span style="flex:1; font-size:14px; font-weight:500; color:#C0392B;">Log Out</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#C0392B" stroke-width="2.5"><path d="M9 18l6-6-6-6"/></svg>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings: Change Password -->
    <div class="settings-modal-overlay" id="modal-password">
        <div style="background:white; border-radius:28px 28px 0 0; width:100%; padding:24px 24px 40px; box-sizing:border-box; max-height:88vh; overflow-y:auto; animation:slideUp 0.25s ease;" onclick="event.stopPropagation()">
            <div style="width:40px; height:4px; background:#E0E0E0; border-radius:2px; margin:0 auto 20px;"></div>
            <h2 class="modal-title">Change Password</h2>
            <p class="modal-subtitle">Annus Awan ¬∑ annus.awan@seedling.edu</p>
            <label class="input-label">Current Password</label>
            <input class="input-field" type="password" placeholder="Enter current password">
            <label class="input-label">New Password</label>
            <input class="input-field" type="password" placeholder="At least 8 characters">
            <label class="input-label">Confirm New Password</label>
            <input class="input-field" type="password" placeholder="Repeat new password" style="margin-bottom:8px;">
            <button class="modal-cta" onclick="confirmSettingsAction('modal-password','Password updated!')">Update Password</button>
            <button class="modal-close-btn" onclick="closeSettingsModal('modal-password')">Cancel</button>
        </div>
    </div>

    <!-- Settings: Edit Profile -->
    <div class="settings-modal-overlay" id="modal-edit-profile">
        <div style="background:white; border-radius:28px 28px 0 0; width:100%; padding:24px 24px 40px; box-sizing:border-box; max-height:88vh; overflow-y:auto; animation:slideUp 0.25s ease;" onclick="event.stopPropagation()">
            <div style="width:40px; height:4px; background:#E0E0E0; border-radius:2px; margin:0 auto 20px;"></div>
            <h2 class="modal-title">Edit Profile</h2>
            <p class="modal-subtitle">Update your account information</p>
            <label class="input-label">Full Name</label>
            <input class="input-field" type="text" value="Annus Awan">
            <label class="input-label">School</label>
            <input class="input-field" type="text" value="Seedling Academy">
            <label class="input-label">Grade Level</label>
            <select class="input-field" style="appearance:none;">
                <option>Grade 1</option><option selected>Grade 2</option><option>Grade 3</option><option>Grade 4</option><option>Grade 5</option>
            </select>
            <label class="input-label">Role</label>
            <select class="input-field" style="appearance:none; margin-bottom:8px;">
                <option selected>Class Teacher</option><option>Subject Teacher</option><option>School Admin</option>
            </select>
            <button class="modal-cta" onclick="confirmSettingsAction('modal-edit-profile','Profile updated!')">Save Changes</button>
            <button class="modal-close-btn" onclick="closeSettingsModal('modal-edit-profile')">Cancel</button>
        </div>
    </div>

    <!-- Settings: Appearance -->
    <div class="settings-modal-overlay" id="modal-appearance">
        <div style="background:white; border-radius:28px 28px 0 0; width:100%; padding:24px 24px 40px; box-sizing:border-box; animation:slideUp 0.25s ease;" onclick="event.stopPropagation()">
            <div style="width:40px; height:4px; background:#E0E0E0; border-radius:2px; margin:0 auto 20px;"></div>
            <h2 class="modal-title">Appearance</h2>
            <p class="modal-subtitle">Choose your preferred theme</p>
            <div class="appearance-option selected" onclick="selectAppearance(this,'Light')">
                <span style="font-size:20px;">‚òÄÔ∏è</span>
                <div style="flex:1;"><div style="font-size:14px; font-weight:600;">Light</div><div style="font-size:12px; color:var(--text-tertiary);">Default warm paper theme</div></div>
                <div class="modal-check">‚úì</div>
            </div>
            <div class="appearance-option" onclick="selectAppearance(this,'Dark')">
                <span style="font-size:20px;">üåô</span>
                <div style="flex:1;"><div style="font-size:14px; font-weight:600;">Dark</div><div style="font-size:12px; color:var(--text-tertiary);">Low-light friendly</div></div>
            </div>
            <div class="appearance-option" onclick="selectAppearance(this,'Auto')">
                <span style="font-size:20px;">‚öôÔ∏è</span>
                <div style="flex:1;"><div style="font-size:14px; font-weight:600;">Auto</div><div style="font-size:12px; color:var(--text-tertiary);">Follows system setting</div></div>
            </div>
            <button class="modal-close-btn" onclick="closeSettingsModal('modal-appearance')" style="margin-top:8px;">Done</button>
        </div>
    </div>

    <!-- Settings: Language -->
    <div class="settings-modal-overlay" id="modal-language">
        <div style="background:white; border-radius:28px 28px 0 0; width:100%; padding:24px 24px 40px; box-sizing:border-box; animation:slideUp 0.25s ease;" onclick="event.stopPropagation()">
            <div style="width:40px; height:4px; background:#E0E0E0; border-radius:2px; margin:0 auto 20px;"></div>
            <h2 class="modal-title">Language</h2>
            <p class="modal-subtitle">Choose your display language</p>
            <div class="lang-option selected" onclick="selectLanguage(this,'English')">
                <span style="font-size:20px;">üá¨üáß</span>
                <div style="flex:1;"><div style="font-size:14px; font-weight:600;">English</div></div>
                <div class="modal-check">‚úì</div>
            </div>
            <div class="lang-option" onclick="selectLanguage(this,'Urdu')">
                <span style="font-size:20px;">üáµüá∞</span>
                <div style="flex:1;"><div style="font-size:14px; font-weight:600;">ÿßÿ±ÿØŸà (Urdu)</div></div>
            </div>
            <div class="lang-option" onclick="selectLanguage(this,'Punjabi')">
                <span style="font-size:20px;">üåø</span>
                <div style="flex:1;"><div style="font-size:14px; font-weight:600;">ŸæŸÜÿ¨ÿßÿ®€å (Punjabi)</div></div>
            </div>
            <button class="modal-close-btn" onclick="closeSettingsModal('modal-language')" style="margin-top:8px;">Done</button>
        </div>
    </div>

    <!-- Settings: Default Report View -->
    <div class="settings-modal-overlay" id="modal-report-view">
        <div style="background:white; border-radius:28px 28px 0 0; width:100%; padding:24px 24px 40px; box-sizing:border-box; animation:slideUp 0.25s ease;" onclick="event.stopPropagation()">
            <div style="width:40px; height:4px; background:#E0E0E0; border-radius:2px; margin:0 auto 20px;"></div>
            <h2 class="modal-title">Default Report View</h2>
            <p class="modal-subtitle">Choose how reports appear by default</p>
            <div class="appearance-option" onclick="selectReportView(this,'Summary')">
                <span style="font-size:20px;">üìã</span>
                <div style="flex:1;"><div style="font-size:14px; font-weight:600;">Summary</div><div style="font-size:12px; color:var(--text-tertiary);">Quick overview of key metrics</div></div>
            </div>
            <div class="appearance-option selected" onclick="selectReportView(this,'Detailed')">
                <span style="font-size:20px;">üìä</span>
                <div style="flex:1;"><div style="font-size:14px; font-weight:600;">Detailed</div><div style="font-size:12px; color:var(--text-tertiary);">Full breakdown with skill data</div></div>
                <div class="modal-check">‚úì</div>
            </div>
            <button class="modal-close-btn" onclick="closeSettingsModal('modal-report-view')" style="margin-top:8px;">Done</button>
        </div>
    </div>

    <!-- Settings: Log Out -->
    <div class="settings-modal-overlay" id="modal-logout">
        <div style="background:white; border-radius:28px 28px 0 0; width:100%; padding:24px 24px 40px; box-sizing:border-box; animation:slideUp 0.25s ease;" onclick="event.stopPropagation()">
            <div style="width:40px; height:4px; background:#E0E0E0; border-radius:2px; margin:0 auto 20px;"></div>
            <h2 class="modal-title">Log Out</h2>
            <p class="modal-subtitle" style="margin-bottom:24px;">Are you sure you want to sign out of your account?</p>
            <button class="modal-cta" style="background:#C0392B;" onclick="handleLogout()">Yes, Log Out</button>
            <button class="modal-close-btn" onclick="closeSettingsModal('modal-logout')">Cancel</button>
        </div>
    </div>

    <div class="toast" id="toast"></div>

</div><!-- /.screen -->
<script>
    let timelineOpen = false;

    function toggleTimeline() {
        timelineOpen = !timelineOpen;
        const dd = document.getElementById('timeline-dropdown');
        const chevron = document.getElementById('timeline-chevron');
        dd.style.display = timelineOpen ? 'block' : 'none';
        chevron.style.transform = timelineOpen ? 'rotate(180deg)' : 'rotate(0deg)';
    }

    function selectTimeline(label, subtitle, optId) {
        document.getElementById('timeline-label').textContent = label;
        document.getElementById('page-subtitle').textContent = subtitle;
        document.querySelectorAll('.timeline-option').forEach(o => o.classList.remove('timeline-option-active'));
        document.getElementById(optId).classList.add('timeline-option-active');
        timelineOpen = false;
        document.getElementById('timeline-dropdown').style.display = 'none';
        document.getElementById('timeline-chevron').style.transform = 'rotate(0deg)';
    }

    // Close dropdown if tapping outside
    document.addEventListener('click', function(e) {
        if (timelineOpen && !e.target.closest('.header')) {
            timelineOpen = false;
            document.getElementById('timeline-dropdown').style.display = 'none';
            document.getElementById('timeline-chevron').style.transform = 'rotate(0deg)';
        }
    });

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Settings ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    function showSettings(v) {
        const s = document.getElementById('settings-screen');
        s.style.display = v ? 'flex' : 'none';
    }
    function openSettingsModal(id) { document.getElementById(id).classList.add('open'); }
    function closeSettingsModal(id) { document.getElementById(id).classList.remove('open'); }
    function confirmSettingsAction(modalId, msg) { closeSettingsModal(modalId); showToast(msg); }

    function toggleSwitch(el) {
        const on = el.dataset.on === 'true';
        el.dataset.on = String(!on);
        el.style.background = !on ? 'var(--color-tree)' : '#D0D0D0';
        el.querySelector('div').style.left = !on ? '21px' : '3px';
    }

    function selectAppearance(el, val) {
        document.querySelectorAll('#modal-appearance .appearance-option').forEach(o => {
            o.classList.remove('selected');
            const c = o.querySelector('.modal-check'); if (c) c.remove();
        });
        el.classList.add('selected');
        const check = document.createElement('div'); check.className = 'modal-check'; check.textContent = '‚úì';
        el.appendChild(check);
        document.getElementById('pref-appearance-val').textContent = val;
    }

    function selectLanguage(el, val) {
        document.querySelectorAll('#modal-language .lang-option').forEach(o => {
            o.classList.remove('selected');
            const c = o.querySelector('.modal-check'); if (c) c.remove();
        });
        el.classList.add('selected');
        const check = document.createElement('div'); check.className = 'modal-check'; check.textContent = '‚úì';
        el.appendChild(check);
        document.getElementById('pref-language-val').textContent = val;
    }

    function selectReportView(el, val) {
        document.querySelectorAll('#modal-report-view .appearance-option').forEach(o => {
            o.classList.remove('selected');
            const c = o.querySelector('.modal-check'); if (c) c.remove();
        });
        el.classList.add('selected');
        const check = document.createElement('div'); check.className = 'modal-check'; check.textContent = '‚úì';
        el.appendChild(check);
        document.getElementById('pref-report-val').textContent = val;
    }

    function handleLogout() {
        closeSettingsModal('modal-logout');
        showSettings(false);
        showToast('Signing out‚Ä¶');
        setTimeout(() => window.location.href = 'index.html', 1200);
    }

    function showToast(msg) {
        const t = document.getElementById('toast');
        t.textContent = msg; t.style.display = 'block';
        setTimeout(() => t.style.display = 'none', 3000);
    }
</script>
</body>
</html>
